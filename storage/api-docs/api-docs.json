{
    "openapi": "3.0.0",
    "info": {
        "title": "Car Rental API",
        "description": "REST API dla systemu wypożyczalni samochodów. Autentykacja JWT.",
        "contact": {
            "name": "Car Rental Support",
            "email": "support@carrental.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8080",
            "description": "Local Development Server"
        }
    ],
    "paths": {
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Rejestracja nowego użytkownika",
                "description": "Tworzy nowe konto klienta i zwraca JWT token",
                "operationId": "c7bb21a0d87049e161b8e4c9b0d909f2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Pełne imię i nazwisko",
                                        "type": "string",
                                        "example": "Jan Kowalski"
                                    },
                                    "email": {
                                        "description": "Unikalny adres email",
                                        "type": "string",
                                        "format": "email",
                                        "example": "jan@example.com"
                                    },
                                    "password": {
                                        "description": "Hasło (min. 8 znaków)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "description": "Potwierdzenie hasła",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "phone": {
                                        "description": "Numer telefonu (opcjonalny)",
                                        "type": "string",
                                        "example": "+48123456789"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Użytkownik zarejestrowany pomyślnie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Rejestracja zakończona sukcesem."
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/User"
                                                },
                                                "access_token": {
                                                    "type": "string",
                                                    "example": "eyJ0eXAiOiJKV1QiLCJhbGc..."
                                                },
                                                "token_type": {
                                                    "type": "string",
                                                    "example": "bearer"
                                                },
                                                "expires_in": {
                                                    "description": "Czas życia tokenu w sekundach",
                                                    "type": "integer",
                                                    "example": 86400
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji danych",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Email jest już zajęty."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logowanie użytkownika",
                "description": "Autentykacja użytkownika i generowanie JWT tokenu",
                "operationId": "dd51a484b7fa0f97c7680fdbde14cf5f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "jan7@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Logowanie pomyślne",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Logowanie zakończone sukcesem."
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "$ref": "#/components/schemas/User"
                                                },
                                                "access_token": {
                                                    "type": "string",
                                                    "example": "eyJ0eXAiOiJKV1QiLCJhbGc..."
                                                },
                                                "token_type": {
                                                    "type": "string",
                                                    "example": "bearer"
                                                },
                                                "expires_in": {
                                                    "type": "integer",
                                                    "example": 86400
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nieprawidłowe dane logowania",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Nieprawidłowy email lub hasło."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Wylogowanie użytkownika",
                "description": "Unieważnia aktualny JWT token",
                "operationId": "df9bdc6c7a6d9f20b983526b2ec0f698",
                "responses": {
                    "200": {
                        "description": "Wylogowano pomyślnie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Wylogowano pomyślnie."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Token jest nieprawidłowy"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Odświeżenie tokenu JWT",
                "description": "Generuje nowy token JWT na podstawie starego",
                "operationId": "30c20c52f5f72828d8c531fd7c9ea3e7",
                "responses": {
                    "200": {
                        "description": "Token odświeżony",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "access_token": {
                                                    "type": "string",
                                                    "example": "eyJ0eXAiOiJKV1QiLCJhbGc..."
                                                },
                                                "token_type": {
                                                    "type": "string",
                                                    "example": "bearer"
                                                },
                                                "expires_in": {
                                                    "type": "integer",
                                                    "example": 86400
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Token wygasł lub jest nieprawidłowy"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Pobierz dane zalogowanego użytkownika",
                "description": "Zwraca informacje o aktualnie zalogowanym użytkowniku",
                "operationId": "b5de204f5e452ef51327c691aa99e77c",
                "responses": {
                    "200": {
                        "description": "Dane użytkownika",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/cars": {
            "get": {
                "tags": [
                    "Cars"
                ],
                "summary": "Lista wszystkich samochodów",
                "description": "Zwraca listę samochodów z możliwością filtrowania",
                "operationId": "8d664882dc5e8732249e26eaca9161f6",
                "parameters": [
                    {
                        "name": "category_id",
                        "in": "query",
                        "description": "Filtruj po kategorii samochodu",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "price_min",
                        "in": "query",
                        "description": "Minimalna cena dzienna",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "example": 100
                        }
                    },
                    {
                        "name": "price_max",
                        "in": "query",
                        "description": "Maksymalna cena dzienna",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "example": 500
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Status samochodu",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "available",
                                "rented",
                                "maintenance"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista samochodów",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Car"
                                            }
                                        },
                                        "count": {
                                            "type": "integer",
                                            "example": 10
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/cars/available": {
            "get": {
                "tags": [
                    "Cars"
                ],
                "summary": "Samochody dostępne w wybranym terminie",
                "description": "Zwraca listę samochodów dostępnych do wynajęcia w określonym okresie",
                "operationId": "2a7f4293cd667cf33e1281abe7897c2c",
                "parameters": [
                    {
                        "name": "start_date",
                        "in": "query",
                        "description": "Data rozpoczęcia (format: YYYY-MM-DD)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-11-15"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "description": "Data zakończenia (format: YYYY-MM-DD)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-11-20"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista dostępnych samochodów",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Car"
                                            }
                                        },
                                        "count": {
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "filters": {
                                            "properties": {
                                                "start_date": {
                                                    "type": "string",
                                                    "example": "2025-11-15"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "example": "2025-11-20"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji dat"
                    }
                }
            }
        },
        "/api/cars/{id}": {
            "get": {
                "tags": [
                    "Cars"
                ],
                "summary": "Szczegóły samochodu",
                "description": "Zwraca szczegółowe informacje o samochodzie",
                "operationId": "d2622aea54bd740abc5dec9b1d12a056",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID samochodu",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Szczegóły samochodu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Car"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Samochód nie znaleziony",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Samochód nie znaleziony."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/cars/{id}/availability": {
            "get": {
                "tags": [
                    "Cars"
                ],
                "summary": "Kalendarz dostępności samochodu",
                "description": "Zwraca kalendarz z informacją o dostępności samochodu w wybranym okresie",
                "operationId": "483140acd6a6f4dc017d8d5dcb04fc30",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID samochodu",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "start_date",
                        "in": "query",
                        "description": "Data początkowa kalendarza (domyślnie: dziś)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-11-10"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "description": "Data końcowa kalendarza (domyślnie: +3 miesiące)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2026-02-10"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Kalendarz dostępności",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "car_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "calendar": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "date": {
                                                        "type": "string",
                                                        "example": "2025-11-10"
                                                    },
                                                    "formatted": {
                                                        "type": "string",
                                                        "example": "10.11"
                                                    },
                                                    "available": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "is_past": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "is_today": {
                                                        "type": "boolean",
                                                        "example": false
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Samochód nie znaleziony"
                    }
                }
            }
        },
        "/api/profile": {
            "get": {
                "tags": [
                    "Profile"
                ],
                "summary": "Pobierz profil zalogowanego użytkownika",
                "description": "Zwraca informacje o profilu aktualnie zalogowanego klienta",
                "operationId": "ec25485e89b137840e2af1fe8538f268",
                "responses": {
                    "200": {
                        "description": "Dane profilu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 17
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Jan Kowalski"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "jan@example.com"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "+48123456789"
                                                },
                                                "role": {
                                                    "type": "string",
                                                    "example": "client"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Profile"
                ],
                "summary": "Aktualizuj dane profilu",
                "description": "Aktualizuje dane profilu użytkownika (imię, email, telefon)",
                "operationId": "ab28d5a578e8ca4520122c9db1543816",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Jan Nowak"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "jan.nowak@example.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+48987654321"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Profil zaktualizowany",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Profil został zaktualizowany pomyślnie."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "phone": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji"
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Profile"
                ],
                "summary": "Usuń konto",
                "description": "Usuwa konto użytkownika (wymaga potwierdzenia hasłem, nie można usunąć z aktywnymi rezerwacjami)",
                "operationId": "32d38d204cc81d97ccc6d059c0148d7c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "password"
                                ],
                                "properties": {
                                    "password": {
                                        "description": "Hasło do potwierdzenia",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Konto usunięte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Konto zostało usunięte pomyślnie."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd - nieprawidłowe hasło lub aktywne rezerwacje",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Nie możesz usunąć konta z aktywnymi rezerwacjami."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/profile/password": {
            "put": {
                "tags": [
                    "Profile"
                ],
                "summary": "Zmień hasło",
                "description": "Zmienia hasło użytkownika (wymaga podania aktualnego hasła)",
                "operationId": "cda5acb02bb4bf6ceb3ba8a0512cb5d2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "current_password",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "current_password": {
                                        "description": "Aktualne hasło",
                                        "type": "string",
                                        "format": "password",
                                        "example": "oldpassword123"
                                    },
                                    "password": {
                                        "description": "Nowe hasło",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "newpassword123"
                                    },
                                    "password_confirmation": {
                                        "description": "Potwierdzenie nowego hasła",
                                        "type": "string",
                                        "format": "password",
                                        "example": "newpassword123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Hasło zmienione",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Hasło zostało zmienione pomyślnie."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji lub nieprawidłowe aktualne hasło",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Aktualne hasło jest nieprawidłowe."
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reservations": {
            "get": {
                "tags": [
                    "Reservations"
                ],
                "summary": "Lista rezerwacji zalogowanego użytkownika",
                "description": "Zwraca wszystkie rezerwacje aktualnie zalogowanego klienta",
                "operationId": "d784cb5ab3512bd0ef48c7cf8f963804",
                "responses": {
                    "200": {
                        "description": "Lista rezerwacji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Reservation"
                                            }
                                        },
                                        "count": {
                                            "type": "integer",
                                            "example": 3
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reservations"
                ],
                "summary": "Utwórz nową rezerwację",
                "description": "Tworzy nową rezerwację samochodu (status: pending - oczekuje na zatwierdzenie przez admina)",
                "operationId": "722f83266fb2dd3ff49b93b33292aeba",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "car_id",
                                    "start_date",
                                    "end_date"
                                ],
                                "properties": {
                                    "car_id": {
                                        "description": "ID samochodu do wynajęcia",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "start_date": {
                                        "description": "Data rozpoczęcia wynajmu",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-11-15"
                                    },
                                    "end_date": {
                                        "description": "Data zakończenia wynajmu",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-11-20"
                                    },
                                    "notes": {
                                        "description": "Opcjonalne uwagi do rezerwacji",
                                        "type": "string",
                                        "example": "Rezerwacja na wakacje"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Rezerwacja utworzona pomyślnie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Rezerwacja została utworzona. Oczekuje na zaakceptowanie przez administratora."
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Reservation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji lub samochód niedostępny"
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reservations/{id}": {
            "get": {
                "tags": [
                    "Reservations"
                ],
                "summary": "Szczegóły rezerwacji",
                "description": "Zwraca szczegóły konkretnej rezerwacji (tylko własne rezerwacje)",
                "operationId": "1138239d0f643e8fad0f2baab6cef61c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID rezerwacji",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 14
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Szczegóły rezerwacji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Reservation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Rezerwacja nie znaleziona",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Rezerwacja nie znaleziona."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reservations/{id}/cancel": {
            "put": {
                "tags": [
                    "Reservations"
                ],
                "summary": "Anuluj rezerwację",
                "description": "Anuluje rezerwację (tylko rezerwacje pending lub approved)",
                "operationId": "3d37188d3ce1c8f930b49b56072e6dfe",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID rezerwacji do anulowania",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 14
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Rezerwacja anulowana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Rezerwacja została anulowana."
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Reservation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Rezerwacja nie znaleziona"
                    },
                    "422": {
                        "description": "Nie można anulować tej rezerwacji"
                    },
                    "401": {
                        "description": "Brak autoryzacji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reservations/check-availability": {
            "get": {
                "tags": [
                    "Reservations"
                ],
                "summary": "Sprawdź dostępność samochodu w terminie",
                "description": "Sprawdza czy samochód jest dostępny w wybranym okresie i oblicza cenę",
                "operationId": "9a2d038ec20e1edc46703c13ec9737e4",
                "parameters": [
                    {
                        "name": "car_id",
                        "in": "query",
                        "description": "ID samochodu",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "start_date",
                        "in": "query",
                        "description": "Data rozpoczęcia (format: YYYY-MM-DD)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-11-15"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "description": "Data zakończenia (format: YYYY-MM-DD)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-11-20"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Informacja o dostępności",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "available": {
                                            "description": "Czy samochód jest dostępny",
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "car_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "start_date": {
                                            "type": "string",
                                            "example": "2025-11-15"
                                        },
                                        "end_date": {
                                            "type": "string",
                                            "example": "2025-11-20"
                                        },
                                        "days": {
                                            "description": "Liczba dni wynajmu",
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "daily_price": {
                                            "description": "Cena za dzień",
                                            "type": "number",
                                            "example": 250
                                        },
                                        "total_price": {
                                            "description": "Całkowity koszt",
                                            "type": "number",
                                            "example": 1250
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Błąd walidacji"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "User": {
                "title": "User",
                "description": "Model użytkownika",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 17
                    },
                    "name": {
                        "type": "string",
                        "example": "Jan Kowalski"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "jan@example.com"
                    },
                    "phone": {
                        "type": "string",
                        "example": "+48123456789",
                        "nullable": true
                    },
                    "role": {
                        "type": "string",
                        "enum": [
                            "admin",
                            "client"
                        ],
                        "example": "client"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-07T10:28:42.000000Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-07T10:28:42.000000Z"
                    }
                },
                "type": "object"
            },
            "Car": {
                "title": "Car",
                "description": "Model samochodu",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "brand": {
                        "type": "string",
                        "example": "Toyota"
                    },
                    "model": {
                        "type": "string",
                        "example": "Camry"
                    },
                    "year": {
                        "type": "integer",
                        "example": 2023
                    },
                    "daily_price": {
                        "type": "number",
                        "format": "float",
                        "example": 250
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "available",
                            "rented",
                            "maintenance"
                        ],
                        "example": "available"
                    },
                    "category": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "Sedan"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "Reservation": {
                "title": "Reservation",
                "description": "Model rezerwacji",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 14
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 17
                    },
                    "car_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "start_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-15"
                    },
                    "end_date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-20"
                    },
                    "days": {
                        "type": "integer",
                        "example": 5
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "approved",
                            "cancelled",
                            "completed"
                        ],
                        "example": "pending"
                    },
                    "total_price": {
                        "type": "number",
                        "format": "float",
                        "example": 1250
                    },
                    "notes": {
                        "type": "string",
                        "example": "Rezerwacja na wakacje",
                        "nullable": true
                    },
                    "car": {
                        "$ref": "#/components/schemas/Car"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Użyj JWT tokenu otrzymanego z /api/auth/login. Format: Bearer {token}",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Endpointy do rejestracji, logowania i zarządzania sesją"
        },
        {
            "name": "Cars",
            "description": "Endpointy do przeglądania i filtrowania samochodów"
        },
        {
            "name": "Reservations",
            "description": "Endpointy do zarządzania rezerwacjami"
        },
        {
            "name": "Profile",
            "description": "Endpointy do zarządzania profilem użytkownika"
        }
    ]
}